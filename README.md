# Weather Viewer

# Overview
Данное веб-приложение предназначено для просмотра текущей погоды. 
Пользователь может авторизоваться и добавить в коллекцию одну или несколько локаций,
после чего на главной странице приложения отображается 
список локаций с их текущей погодой.

При авторизации пользователя бэкенд приложение создаёт сессию с идентификатором,
и устанавливает этот идентификатор в cookies HTTP ответа, которым приложение отвечает
на POST запрос формы авторизации. Сессия содержит в себе ID авторизовавшегося юзера.
При каждом запросе пользователя анализирутся ID сессии, переданное в cookies, и
проверяется на наличие сессии в БД. Если сессия существует, то страницы приложения рендерятся 
для пользователя указанного в данной сессии.

Поиск прогнозов погоды и локаций осуществляется с помощью внешнего API https://openweathermap.org/api  
Проект выполнен в соответствии ТЗ https://zhukovsd.github.io/java-backend-learning-course/Projects/WeatherViewer/

# Technologies / tools used:
- Hibernate
- Java Servlets
- PostgreSQL
- Maven
- Tomcat 10
- HTML
- Thymeleaf
- Bootstrap
- JUnit 5
- Mockito
- Lombok
- Jackson
- slf4j-log4j2

# Installation
1. Указать в переменной среды KEY_API_WEATHER ключ для внешнего API поиска погоды.
2. Собрать c помощью Maven war артефакт приложения.
3. Развернуть war артефакт в Tomcat.

# Usage
### 1. Главная страница.
Адрес - /home.

![image](http84f17663)

### 2. Страница поиска локаций.
Адрес - /locations.
GET параметр name содержит название запрашиваемой локации.

Добавление локации.
Адрес - /locations.
POST параметр name содержит название, latitude и longitude содержат координаты локации.

Удаление локации.
Адрес - /locations.
POST параметр id содержит порядковый номер локации юзера,
_method содержит значение DELETE.

### 3. Страница прогноза погоды для локации.
Адрес - /forecast.  
GET параметр id содержит порядковый номер локации юзера.

### 4. Страница авторизации.
Адрес - /logup.
POST параметр user_name сожержит email, password и repeat_password содержат пароли.

### 5. Страница входа.
Адрес - /login.
POST параметр user_name сожержит email, password содержит пароль.

### 6. Страница выхода.
Адрес - /logout.

